name: Papur (Clawdbot)
version: "0.2.0"
slug: papur_clawdbot
description: Run Clawdbot (Papur) as a Home Assistant add-on.
url: https://github.com/techartdev/ClawdHAAddOn
arch:
  - amd64
startup: services
boot: auto
init: false
hassio_api: false
homeassistant_api: false
host_network: true
map:
  - addon_config:rw
options:
  telegram_bot_token: ""
  timezone: "Europe/Sofia"
  # Optional: lock DMs to specific Telegram user ids (comma-separated).
  # If set, add-on will use dmPolicy=allowlist and allowFrom=<ids>.
  telegram_allow_from: ""

  # Model selection (string like "openai-codex/gpt-5.2" or "ollama/gpt-oss:20b")
  model_primary: "openai-codex/gpt-5.2"

  # Gateway UI exposure (LAN)
  # - bind: loopback (default) or lan
  # - port: default 18789
  # - token: set to a fixed token so Control UI can connect; required if bind=lan
  gateway_bind: "loopback"
  gateway_port: 18789
  gateway_token: ""

  # Run `clawdbot doctor --fix` on startup (useful after upgrades; slows restarts)
  run_doctor_on_start: false

  homeassistant_token: ""
  mikrotik_host: "192.168.88.1"
  mikrotik_ssh_user: "papur"
  mikrotik_ssh_key_path: "/data/keys/mikrotik_papur_nopw"
  # Cleanup stale session lock files left after crashes/restarts
  clean_session_locks_on_start: true
  clean_session_locks_on_exit: true


schema:
  telegram_bot_token: str
  timezone: str
  telegram_allow_from: str?
  model_primary: str
  gateway_bind: list(loopback|lan)
  gateway_port: int
  gateway_token: str?
  run_doctor_on_start: bool
  homeassistant_token: str?
  mikrotik_host: str
  mikrotik_ssh_user: str
  mikrotik_ssh_key_path: str
  clean_session_locks_on_start: bool?
  clean_session_locks_on_exit: bool?

